import{r as G,s as Q,O as A,f as K,a as X,b as Z,g as ee}from"./assets/switcher-k9wGEDe5.js";import{a as v,S as te,d as re,N as ne,b as oe}from"./assets/vendor-CsIy9GeN.js";const U="https://tasty-treats-backend.p.goit.global/api/recipes";function H(){const e=window.innerWidth;if(e>=1280)return"per_page=9&limit=9";if(e>=768&&e<1280)return"per_page=8&limit=8";if(e<768)return"per_page=6&limit=6"}async function se(e,r,n="",o="",s=""){const c=`${U}?title=${e}&page=${r}&${H()}&time=${n}&area=${o}&ingredient=${s}`;try{const{data:t}=await v.get(c);return t}catch{throw new Error("An error occurred while fetching images.")}}async function N(e,r){const n=`${U}?category=${e}&page=${r}&${H()}`;try{const{data:o}=await v.get(n);return o}catch{throw new Error("An error occurred while fetching images.")}}new te(".swiper",{pagination:{el:".swiper-pagination",type:"bullets",clickable:!0,dynamicBullets:!0},spaceBetween:10,autoplay:{delay:5e3,disableOnInteraction:!1},grabCursor:!0,loop:!0,mousewheel:{invert:!0},slidesPerView:1,slidesPerGroup:1});const w=document.querySelector(".first-cook"),S=document.querySelector(".second-cook"),$=document.querySelector(".third-cook"),E=document.querySelector(".first-cook-center-card"),b=document.querySelector(".second-cook-center-card"),M=document.querySelector(".third-cook-center-card"),q=document.querySelector(".first-cook-last-card"),I=document.querySelector(".second-cook-last-card"),B=document.querySelector(".third-cook-last-card"),ce="https://tasty-treats-backend.p.goit.global/api/events",O=async()=>{try{return(await v.get(`${ce}`)).data}catch(e){console.log(e)}};O().then(e=>{const{cook:r,topic:n}=e[0],o=({firstSlideCook:t})=>`<img src="${t.imgUrl}"
          srcset="${t.imgWebpUrl}" alt ="${t.name}"
          class="swiper-slide-img cook-card" />`,s=({firstSlideTopic:t})=>`<img src="${t.previewUrl}" alt = "masterclass"
        class="swiper-slide-img food-center-card" />
      <p class="master-class">${t.name}</p>
      <p class="master-class-coutry">${t.area}</p>`,c=({firstSlideTopic:t})=>`<img src="${t.imgUrl}" alt = "tasty food"
      class="swiper-slide-img big-slide-salat-img" />`;try{if(w){const t=o({firstSlideCook:r});w.innerHTML=t}}catch(t){console.error(t)}try{if(E){const t=s({firstSlideTopic:n});E.innerHTML=t}}catch(t){console.error(t)}try{if(q){const t=c({firstSlideTopic:n});q.innerHTML=t}}catch(t){console.error(t)}return e}).then(e=>{const{cook:r,topic:n}=e[1],o=({secondSlideCook:t})=>`<img src="${t.imgUrl}"
           srcset="${t.imgWebpUrl}" alt ="${t.name}"
           class="swiper-slide-img cook-card" />`,s=({secondSlideTopic:t})=>`<img src="${t.previewUrl}" alt = "masterclass"
    class="swiper-slide-img food-center-card" />
  <p class="master-class">${t.name}</p>
  <p class="master-class-coutry">${t.area}</p>`,c=({secondSlideTopic:t})=>`<img src="${t.imgUrl}" alt = "tasty food"
        class="big-slide-img" />`;try{if(S){const t=o({secondSlideCook:r});S.innerHTML=t}}catch(t){console.error(t)}try{if(b){const t=s({secondSlideTopic:n});b.innerHTML=t}}catch(t){console.error(t)}try{if(I){const t=c({secondSlideTopic:n});I.innerHTML=t}}catch(t){console.error(t)}return e}).then(e=>{const{cook:r,topic:n}=e[2],o=({thirdSlideCook:t})=>`<img src="${t.imgUrl}"
             srcset="${t.imgWebpUrl}" alt ="${t.name}"
            class="swiper-slide-img cook-card" />`,s=({thirdSlideTopic:t})=>`<img src="${t.previewUrl}" alt = "masterclass"
    class="swiper-slide-img food-center-card" />
  <p class="master-class">${t.name}</p>
  <p class="master-class-coutry">${t.area}</p>`,c=({thirdSlideTopic:t})=>`<img
        src="${t.imgUrl}" alt = "tasty food"
        class="big-slide-img pancakes-img"
      />`;try{if($){const t=o({thirdSlideCook:r});$.innerHTML=t}}catch(t){console.error(t)}try{if(M){const t=s({thirdSlideTopic:n});M.innerHTML=t}}catch(t){console.error(t)}try{if(B){const t=c({thirdSlideTopic:n});B.innerHTML=t}}catch(t){console.error(t)}return e}).catch(e=>console.error(e));window.addEventListener("load",O);const i=document.querySelector(".search-input"),u=document.querySelector("#image-container"),g=document.getElementById("pagination"),R=document.getElementById("spinner"),f=document.querySelector(".list-area"),y=document.querySelector(".list-ingred"),ae=document.querySelector(".input-section"),T=document.querySelector(".list-time"),p=document.querySelector(".cancel-button-input");document.querySelector(".clear-button").addEventListener("click",function({target:e}){document.querySelector(".list-time").value="",document.querySelector(".search-input").value="",document.querySelector(".list-area").value="",document.querySelector(".list-ingred").value="",L(e)});i.addEventListener("input",()=>{i.value.trim()!==""?p.style.display="inline-block":p.style.display="none"});p.addEventListener("click",function({target:e}){i.value="",p.style.display="none",L(e)});const P=document.querySelector(".search-icon");i.addEventListener("focus",()=>{P.classList.add("active")});i.addEventListener("blur",()=>{P.classList.remove("active")});let d="",a="",C="",h="",k="";const ie=300;l();function le(e){const r=JSON.parse(e.dataset.info);e.classList.toggle("active");const n=JSON.parse(localStorage.getItem("favorites"))??[];e.classList.contains("active")?localStorage.setItem("favorites",JSON.stringify([...n,r])):localStorage.setItem("favorites",JSON.stringify([...n.filter(o=>o.id!==r.id)]))}function de({target:e}){if(!e.closest("button"))return;const r=e.closest("button");r.name==="favorite"&&le(r),r.name==="details"&&A(r)}u.addEventListener("click",de);async function ue(){try{return(await K()).reduce((r,n)=>r+me(n))}catch{}}async function pe(){try{return(await X()).reduce((r,n)=>r+ge(n))}catch{}}function me(e){const{name:r}=e;return`<option value="${r}">${r}</option>`}function ge(e){const{name:r,_id:n}=e;return`<option value="${n}">${r}</option>`}async function fe(){try{const e=await ue();Ce(e)}catch{}}async function ye(){try{const e=await pe();he(e)}catch{}}function Ce(e){f.insertAdjacentHTML("beforeend",e)}function he(e){y.insertAdjacentHTML("beforeend",e)}const ke=re(ve,ie);ae.addEventListener("input",ke);function ve(e){const r=e.target.value;if(e.target.classList.contains("search-input")){if(!r)return i.value="";a=Le(r)}e.target.classList.contains("list-area")&&(k=r),e.target.classList.contains("list-ingred")&&(h=r),e.target.classList.contains("list-time")&&(C=r),u.innerHTML="",W(),l()}function Le(e){const r=e.trim();return`${r[0].toUpperCase()}${r.slice(1,r.length)}`}function we(){R.style.display="block"}function Se(){R.style.display="none"}async function l(e=1,r=se){try{we(),fe(),ye();const{page:n,perPage:o,totalPages:s,results:c}=await r(a,e,C,k,h);if(!c.length)throw new Error("No result");const t=await[...c.map(({title:m,description:D,preview:J,rating:Y,_id:z,category:V})=>G(m,D,J,Y,z,V))].join("");s>1?(g.style.display="block",Q(n,o,s,m=>{l(m,r)})):g.style.display="none",u.innerHTML=t,d=a}catch{T.firstElementChild.setAttribute("selected","selected"),f.firstElementChild.setAttribute("selected","selected"),y.firstElementChild.setAttribute("selected","selected"),g.style.display="none",ne.Notify.warning("No result for your request, please try again!"),a="",C="",h="",k="",d===a&&(d=""),d?a=d:a="",l()}finally{T.firstElementChild.removeAttribute("selected","selected"),f.firstElementChild.removeAttribute("selected","selected"),y.firstElementChild.removeAttribute("selected","selected"),Se()}}function F(e=""){a=e}function $e(e,r){const n=document.createElement("button");return n.textContent=e,n.classList.add("button-category"),n.addEventListener("click",r),n}async function Ee(){const e=document.getElementById("categoriesContainer"),r=e.querySelector(".scroll-content");r.innerHTML="",(await Z()).forEach(o=>{const s=$e(o.name,()=>{F(o.name),u.innerHTML="",l(1,N),document.querySelectorAll(".isUse").forEach(t=>{t.classList.remove("isUse")}),s.classList.add("isUse")});r.appendChild(s)}),oe.init(e,{alwaysShowTracks:!0})}const be=document.getElementById("categoriesContainer"),_=document.createElement("div");_.className="scroll-content";be.appendChild(_);const x=document.getElementById("allCategoriesButton");x.addEventListener("click",L);function L({target:e}){W(e),F(),u.innerHTML="",l(1,N),Array.from(document.querySelectorAll(".scroll-content button")).forEach(n=>{n.classList.remove("isUse")})}Ee();function W(e=x){document.querySelectorAll(".isUse").forEach(n=>n.classList.remove("isUse")),e.classList.add("isUse")}document.addEventListener("DOMContentLoaded",function(){document.getElementById("scrollButton").addEventListener("click",function(){Me(1e3)})});function Me(e){const r=-window.scrollY/(e/30),n=setInterval(function(){window.scrollY!==0?window.scrollBy(0,r):clearInterval(n)},15)}window.addEventListener("scroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop,r=document.getElementById("scrollButton");e>100?r.style.display="block":r.style.display="none"});const j=document.querySelector(".popular-recipes-list");j.addEventListener("click",Be);async function qe(){try{const e=await ee();Ie(e)}catch(e){console.error("Error while rendering popular recipes:",e)}}function Ie(e){const r=e.map(n=>`<li class="popular-recipes-item data-id="${n._id}"">
      <img class="popular-recipes-image" src="${n.preview}" alt="${n.title}" />
      <div data-id="${n._id}">
      <p class="popular-recipes-item-title">${n.title}</p>
      <p class="popular-recipes-item-description">${n.description}</p>
      </div>
    </li>`).join("");j.innerHTML=r}qe();function Be(e){const r=e.target.parentNode;A(r)}
//# sourceMappingURL=index.js.map
